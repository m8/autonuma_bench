enable autonuma:
./set_autonuma.sh 1

example usage:
numactl --membind=0 ./bench 1024 100 20 1

params:
0: [int] wss (in MB), def: 1024
1: [int] read ratio, def: 100
2: [int] time to execute, def: 5
3: [int] access pattern 0: sequential, 1: read, def: 1
4: [int] CPU num, pin access thread, def: 0


Run the benchmark:
./runner.sh numactl ./bench 2048 100 20 1 38

See the autonuma effect:
2 2050.12 1.53 0.00 0.00
2 2050.10 1.54 0.00 0.00
3 2050.10 1.54 0.00 0.00
3 2050.10 1.54 0.00 0.00
4 2050.10 1.54 0.00 0.00
4 2050.10 1.54 0.00 0.00
5 1801.21 250.44 0.00 0.00
5 1800.83 250.81 0.00 0.00
6 1800.83 250.81 0.00 0.00
6 1800.83 250.81 0.00 0.00
7 1570.20 481.45 0.00 0.00
7 1544.83 506.81 0.00 0.00
7 1544.83 506.81 0.00 0.00
8 1544.83 506.81 0.00 0.00
8 1450.03 601.62 0.00 0.00
9 1288.84 762.80 0.00 0.00
9 1288.83 762.81 0.00 0.00
10 1288.83 762.81 0.00 0.00
10 1288.83 762.81 0.00 0.00
11 1033.52 1018.12 0.00 0.00